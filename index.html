<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
    </head>
    <body>
        <noscript>
            This page uses JavaScript and Web Assembly.
            You'll need to enable scripting for it to work,
            and even then it might not.
        </noscript>
        <p>
            <label>
                Prime limit
                <input id="prime-limit" value="" size="2">
            </label>
        <p>
        <p>
            <label>
                Badness parameter
                <input id="prime-ek" value="1.0" size="5">
                cents/octave
            </label>
        <p>
        <button id="prime-search">Search</button>
        <table id="equal-temperaments">
            <tr><td>Results will go here</td>
        </table>
        <script type="module">
            import init, { consecutive_prime_limit_search }
                from './pkg/regular.js'

            async function run() {
                await init()
            }

            document.getElementById("prime-search").onclick =
                function() {
                    var limit = parseInt(
                        document.getElementById("prime-limit").value,
                        10)
                    var ek = parseFloat(
                        document.getElementById("prime-ek").value)
                    consecutive_prime_limit_search(limit, ek, 10)
                }

            run()
        </script>
    </body>
</html>
